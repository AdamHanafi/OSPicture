function copyToClipboard(e){var t=$("<input>");$("body").append(t),t.val(e).select(),document.execCommand("copy"),t.remove()}function ajax_upload(e){if(e.size>maxFileSize)alert("File size is bigger than 10MB");else{var t=new FormData;t.append("file",e),ajax_send(t,"is")}}function ajax_uploads(e){for(var t=0,r=0;r<e.length;r++)t+=e[r].size;if(t>maxFileSize)alert("Files size is bigger than 10MB");else{for(var i=new FormData,r=0;r<e.length;r++)i.append("multipartFiles",e[r]);ajax_send(i,"are")}}function ajax_send(e,t){$.ajax({url:"/upload/image"+("are"==t?"s":""),type:"PUT",data:e,cache:!1,processData:!1,contentType:!1,xhr:function(){var e=$.ajaxSettings.xhr();return e.upload.addEventListener("progress",function(e){if(e.lengthComputable){if(!$("#progress-percent").length){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttributeNS(null,"id","progress-percent"),t.setAttributeNS(null,"width","200"),t.setAttributeNS(null,"height","200");var r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttributeNS(null,"id","circle"),r.setAttributeNS(null,"r","90"),r.setAttributeNS(null,"cx","100"),r.setAttributeNS(null,"cy","100");var i=document.createElementNS("http://www.w3.org/2000/svg","text");i.setAttributeNS(null,"id","percent"),i.setAttributeNS(null,"x","100"),i.setAttributeNS(null,"y","-85"),main.append(t,$("<span/>",{class:"upload-info"}).text("Uploading")),(progress=$("#progress-percent")).append(r,i),(percent=$("#percent")).text("0%"),pie=$("#circle"),pieOfValue=pie.css("strokeDasharray").split(" ")[1],dash="x"==pieOfValue.charAt(pieOfValue.length-1)?pieOfValue.substring(0,pieOfValue.length-2):pieOfValue,$(".bold").hide(),$(".drag-info").hide(),$(".click-info").hide(),void 0!=picture&&picture.hide(),$(".file").hide(),main.css("justify-content","center"),main.css("align-items","center"),main.css("flex-direction","column"),$(".upload-info").show(),notif=1}2!=notif&&(percentComplete=Math.ceil(e.loaded/e.total*100),void 0==optimizeInterval&&(optimizeInterval=setInterval(function(){percentComplete-prevPercent>=25?(pie.css("transition","stroke-dasharray .01s ease-in, stroke .01s ease-in"),percent.css("transition","fill .01s ease-in")):percentComplete-prevPercent>=10?(pie.css("transition","stroke-dasharray .1s ease-in, stroke .1s ease-in"),percent.css("transition","fill .1s ease-in")):percentComplete-prevPercent>=5?(pie.css("transition","stroke-dasharray .2s ease-in, stroke .2s ease-in"),percent.css("transition","fill .2s ease-in")):(pie.css("transition","stroke-dasharray .3s ease-in, stroke .3s ease-in"),percent.css("transition","fill .3s ease-in")),prevPercent=percentComplete},1e3)),color=percentComplete>90?0:percentComplete>75?1:percentComplete>50?2:percentComplete>25?3:4,pie.css("stroke",colors[color]),percent.css("fill",colors[color]),pie.css("strokeDasharray",percentComplete*dash/100+" "+dash),percent.text(percentComplete+"%"),100==percentComplete&&(notif=2,setTimeout(function(){0==wasError?($(".upload-info").remove(),progress.remove(),main.append($("<div/>",{class:"flowspinner"}),$("<span/>",{class:"optimize-info"}).text("Optimization"))):wasError=0},1e3)))}},!1),e},success:function(e){window.location.href=site+e},error:function(){clearInterval(optimizeInterval),percentComplete=0,notif=0,wasError=1,progress.remove(),$(".optimize-info").remove(),$(".flowspinner").remove(),$(".upload-info").remove(),$(".bold").show(),picture.show(),$(".file").show(),alert("Something was wrong, check the type of file.")}})}var notification,main,picture,maxFileSize,optimizeInterval,notif=0,wasError=0,prevPercent=0,colors=["#2ECC71","#1ABC9C","#F39C12","#E67E22","#E74C3C"],color=0,percent,pie,progress,pieOfValue,dash,percentComplete=0;